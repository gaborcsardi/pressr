<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>webfakes glossary — glossary • webfakes</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="webfakes glossary — glossary"><meta property="og:description" content="webfakes glossary"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">webfakes</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">1.1.3.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/introduction.html">Intro</a>
</li>
<li>
  <a href="../articles/how-to.html">How-to</a>
</li>
<li>
  <a href="../articles/glossary.html">Glossary</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../httpbin.html">The builtin httpbin app's API</a>
    </li>
    <li>
      <a href="../articles/oauth.html">OAuth2.0 webfakes apps</a>
    </li>
    <li>
      <a href="../articles/internals.html">Webfakes internals</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/r-lib/webfakes/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>webfakes glossary</h1>
    <small class="dont-index">Source: <a href="https://github.com/r-lib/webfakes/blob/HEAD/R/docs.R" class="external-link"><code>R/docs.R</code></a></small>
    <div class="hidden name"><code>glossary.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>webfakes glossary</p>
    </div>


    <div id="wevfakes-glossary">
    <h2>Wevfakes glossary</h2>
    


<p>The webfakes package uses vocabulary that is standard for web apps, especially those developed with Express.js, but not necessarily well known to all R package developers.</p><div class="section">
<h3 id="app">app<a class="anchor" aria-label="anchor" href="#app"></a></h3>


<p>(Also: fake web app, webfakes app.) A web application that can be served by webfakes's web server, typically in another process, an <em>app process</em>.
Sometimes we call it a <em>fake</em> web app, to emphasize that we use it for testing real web apps and APIs.</p>
<p>You can create a webfakes app with the <code><a href="new_app.html">new_app()</a></code> function.
A webfakes app is an R object that you can save to disk with <code><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS()</a></code> , and you can also include it in your package.</p>
<p>You can start an with its <code>$listen()</code> method.
Since the main R process runs that test suite code, you usually run them in a subprocess, see <code><a href="new_app_process.html">new_app_process()</a></code> or <code><a href="local_app_process.html">local_app_process()</a></code>.</p>
</div>

<div class="section">
<h3 id="app-process">app process<a class="anchor" aria-label="anchor" href="#app-process"></a></h3>


<p>(Also: web server process, webfakes subprocess.) An app process is an R subprocess, started from the main R process, to serve a webfakes <em>app</em>.</p>
<p>You can create an app process object with <code><a href="new_app_process.html">new_app_process()</a></code> or <code><a href="local_app_process.html">local_app_process()</a></code>.
By default the actual process does not start yet, when you create it.
You can start it explicitly with the <code>$start</code> method of the app process object, or by querying its URL with <code>$url()</code> or its port with <code>$get_port()</code>.</p>
<p>For test cases, you typically start app processes at these places:</p><ul><li><p>In a <code>setup*.R</code> file, to start an app that the whole test suite can use.</p></li>
<li><p>Alternatively, in a <code>helper*.R</code> file, to start an app that the whole test suite can use, and it works better for interactive development.</p></li>
<li><p>At the beginning of a test file, to create an app for a single test file.</p></li>
<li><p>Inside <code>test_that()</code>, to create an app for a single test block.</p></li>
</ul><p>See the How-to for details about each.</p>
</div>

<div class="section">
<h3 id="handler">handler<a class="anchor" aria-label="anchor" href="#handler"></a></h3>


<p>(Or handler function.) A handler is a <em>route</em> or a <em>middleware</em>.</p>
</div>

<div class="section">
<h3 id="handler-stack">handler stack<a class="anchor" aria-label="anchor" href="#handler-stack"></a></h3>


<p>This is a stack of handler functions, which are called by the app one after the other, passing the request and response objects to them.
Handlers typically manipulate the request and/or response objects.
A terminal handler instructs the app to return the response to the HTTP client.
A non-terminal handler tells the app to keep calling handlers, by returning the string <code>"next"</code>.</p>
</div>

<div class="section">
<h3 id="httpbin-app">httpbin app<a class="anchor" aria-label="anchor" href="#httpbin-app"></a></h3>


<p>This is an example app, which implements the excellent <a href="https://httpbin.org/" class="external-link">https://httpbin.org/</a> web service.
You can use it to simulate certain HTTP responses.
It is most handy for HTTP clients, but potentially useful for other tools as well.</p>
<p>Use <code><a href="httpbin_app.html">httpbin_app()</a></code> to create an instance of this app.</p>
</div>

<div class="section">
<h3 id="middleware">middleware<a class="anchor" aria-label="anchor" href="#middleware"></a></h3>


<p>A middleware is a handler function that is not bound to a path.
It is called by the router, like other handler functions.
It may manipulate the request or the response, or can have a side effect.
Some example built-in middleware functions in webfakes:</p><ul><li><p><code><a href="mw_json.html">mw_json()</a></code> parses a request's JSON body into an R object.</p></li>
<li><p><code><a href="mw_log.html">mw_log()</a></code> logs requests and responses to the screen or to a file.</p></li>
<li><p><code><a href="mw_static.html">mw_static()</a></code> serves static files from the directory.</p></li>
</ul><p>You can also write your own middleware functions.</p>
</div>

<div class="section">
<h3 id="path-matching">path matching<a class="anchor" aria-label="anchor" href="#path-matching"></a></h3>


<p>The router performs path matching when it goes over the handler stack.
If the HTTP method and path of a <em>route</em> match the HTTP method and URL of the request, then the handler is called, otherwise it is not.
Paths can have parameters and be regular expressions.
See <code>?new_regexp()</code> for regular expressions and "Path parameters" in <code>?new_app()</code> for parameters.</p>
</div>

<div class="section">
<h3 id="route">route<a class="anchor" aria-label="anchor" href="#route"></a></h3>


<p>A route is a handler function that is bound to certain paths of you web app.
If the request URL matches the path of the route, then the handler function is called, to give it a chance to send the appropriate response.
Route paths may have parameters or they can be regular expressions in webfakes.</p>
</div>

<div class="section">
<h3 id="routing">routing<a class="anchor" aria-label="anchor" href="#routing"></a></h3>


<p>Routing is the process of going over the handlers stack, and calling handler functions, one after the other, until one handles the request.
If a handler function is a <em>route</em>, then the router only calls it if its path matches the request URL.</p>
</div>

    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

