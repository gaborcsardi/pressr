<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="webfakes">
<title>webfakes glossary • webfakes</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.7/font.css" rel="stylesheet">
<link href="../deps/Source_Code_Pro-0.4.7/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="webfakes glossary">
<meta property="og:description" content="webfakes">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script defer data-domain="webfakes.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-none"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">webfakes</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.2.1.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/introduction.html">Intro</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/how-to.html">How-to</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../articles/glossary.html">Glossary</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../httpbin.html">The builtin httpbin app's API</a>
    <a class="dropdown-item" href="../articles/oauth.html">OAuth2.0 webfakes apps</a>
    <a class="dropdown-item" href="../articles/internals.html">Webfakes internals</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/r-lib/webfakes/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article" id="container">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>webfakes glossary</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/r-lib/webfakes/blob/HEAD/vignettes/glossary.Rmd" class="external-link"><code>vignettes/glossary.Rmd</code></a></small>
      <div class="d-none name"><code>glossary.Rmd</code></div>
    </div>

    
    
<p>The webfakes package uses vocabulary that is standard for web apps,
especially those developed with Express.js, but not necessarily well
known to all R package developers.</p>
<div class="section level2">
<h2 id="app">app<a class="anchor" aria-label="anchor" href="#app"></a>
</h2>
<p>(Also: fake web app, webfakes app.) A web application that can be
served by webfakes’s web server, typically in another process, an
<em>app process</em>. Sometimes we call it a <em>fake</em> web app, to
emphasize that we use it for testing real web apps and APIs.</p>
<p>You can create a webfakes app with the <code><a href="../reference/new_app.html">new_app()</a></code>
function. A webfakes app is an R object that you can save to disk with
<code><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS()</a></code> , and you can also include it in your
package.</p>
<p>You can start an with its <code>$listen()</code> method. Since the
main R process runs that test suite code, you usually run them in a
subprocess, see <code><a href="../reference/new_app_process.html">new_app_process()</a></code> or
<code><a href="../reference/local_app_process.html">local_app_process()</a></code>.</p>
</div>
<div class="section level2">
<h2 id="app-process">app process<a class="anchor" aria-label="anchor" href="#app-process"></a>
</h2>
<p>(Also: web server process, webfakes subprocess.) An app process is an
R subprocess, started from the main R process, to serve a webfakes
<em>app</em>.</p>
<p>You can create an app process object with
<code><a href="../reference/new_app_process.html">new_app_process()</a></code> or <code><a href="../reference/local_app_process.html">local_app_process()</a></code>. By
default the actual process does not start yet, when you create it. You
can start it explicitly with the <code>$start</code> method of the app
process object, or by querying its URL with <code>$url()</code> or its
port with <code>$get_port()</code>.</p>
<p>For test cases, you typically start app processes at these
places:</p>
<ul>
<li>In a <code>setup*.R</code> file, to start an app that the whole test
suite can use.</li>
<li>Alternatively, in a <code>helper*.R</code> file, to start an app
that the whole test suite can use, and it works better for interactive
development.</li>
<li>At the beginning of a test file, to create an app for a single test
file.</li>
<li>Inside <code>test_that()</code>, to create an app for a single test
block.</li>
</ul>
<p>See the How-to for details about each.</p>
</div>
<div class="section level2">
<h2 id="handler">handler<a class="anchor" aria-label="anchor" href="#handler"></a>
</h2>
<p>(Or handler function.) A handler is a <em>route</em> or a
<em>middleware</em>.</p>
</div>
<div class="section level2">
<h2 id="handler-stack">handler stack<a class="anchor" aria-label="anchor" href="#handler-stack"></a>
</h2>
<p>This is a stack of handler functions, which are called by the app one
after the other, passing the request and response objects to them.
Handlers typically manipulate the request and/or response objects. A
terminal handler instructs the app to return the response to the HTTP
client. A non-terminal handler tells the app to keep calling handlers,
by returning the string <code>"next"</code>.</p>
</div>
<div class="section level2">
<h2 id="httpbin-app">httpbin app<a class="anchor" aria-label="anchor" href="#httpbin-app"></a>
</h2>
<p>This is an example app, which implements the excellent
<code>https://httpbin.org/</code> web service. You can use it to
simulate certain HTTP responses. It is most handy for HTTP clients, but
potentially useful for other tools as well.</p>
<p>Use <code><a href="../reference/httpbin_app.html">httpbin_app()</a></code> to create an instance of this app.</p>
</div>
<div class="section level2">
<h2 id="middleware">middleware<a class="anchor" aria-label="anchor" href="#middleware"></a>
</h2>
<p>A middleware is a handler function that is not bound to a path. It is
called by the router, like other handler functions. It may manipulate
the request or the response, or can have a side effect. Some example
built-in middleware functions in webfakes:</p>
<ul>
<li>
<code><a href="../reference/mw_json.html">mw_json()</a></code> parses a request’s JSON body into an R
object.</li>
<li>
<code><a href="../reference/mw_log.html">mw_log()</a></code> logs requests and responses to the screen or
to a file.</li>
<li>
<code><a href="../reference/mw_static.html">mw_static()</a></code> serves static files from the
directory.</li>
</ul>
<p>You can also write your own middleware functions.</p>
</div>
<div class="section level2">
<h2 id="path-matching">path matching<a class="anchor" aria-label="anchor" href="#path-matching"></a>
</h2>
<p>The router performs path matching when it goes over the handler
stack. If the HTTP method and path of a <em>route</em> match the HTTP
method and URL of the request, then the handler is called, otherwise it
is not. Paths can have parameters and be regular expressions. See
<code>?new_regexp()</code> for regular expressions and “Path parameters”
in <code>?new_app()</code> for parameters.</p>
</div>
<div class="section level2">
<h2 id="route">route<a class="anchor" aria-label="anchor" href="#route"></a>
</h2>
<p>A route is a handler function that is bound to certain paths of you
web app. If the request URL matches the path of the route, then the
handler function is called, to give it a chance to send the appropriate
response. Route paths may have parameters or they can be regular
expressions in webfakes.</p>
</div>
<div class="section level2">
<h2 id="routing">routing<a class="anchor" aria-label="anchor" href="#routing"></a>
</h2>
<p>Routing is the process of going over the handlers stack, and calling
handler functions, one after the other, until one handles the request.
If a handler function is a <em>route</em>, then the router only calls it
if its path matches the request URL.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

  </div></footer>
</body>
</html>
